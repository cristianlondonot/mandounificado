import React from 'react'
import { useNavigate } from 'react-router-dom'
import { Tooltip } from 'react-tooltip'
import '../../../App.sass'
import UseCarenciasPorVereda from '../../UseCarenciasPorVereda/UseCarenciasPorVereda'

const Palmar = ({departamento, municipio, filterMap}) => {
  const navigate = useNavigate();

  //esta función es la que asigna el color según la cantidad de carencias que tiene la vereda o el barrio
  const { getColorByCarencias } = UseCarenciasPorVereda( filterMap.toUpperCase() );


  //Esta función abre la vereda o barrio seleccionado. Toma los datos de data-name-url y los ingresa a navigate 
  const handleNeighborhoodClick = (event) => {
    const { dataset } = event.target;
    const nombreVeredaBarrioUrl = dataset.urlName;

    if (typeof municipio === 'function') {
      municipio({ nombre: nombreVeredaBarrioUrl });
    }

    if (nombreVeredaBarrioUrl) {
      navigate(`/departamento/${departamento}/municipio/${municipio}/vereda/${nombreVeredaBarrioUrl}`);
    } else {
      console.error('No se ha proporcionado el nombre de la ciudad.');
    }
    
  };
  return (
    <div className="w-full h-full">
      <Tooltip id="my-tooltip"  />
      <svg
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        viewBox="0 0 736.9 1252.1"
        style={{
          strokeWidth: '1px',
          stroke: '#fff',
          enableBackground: "new 0 0 736.9 1252.1",
        }}
        xmlSpace="preserve"
      >
        <path
          fill={getColorByCarencias('CENTRO')}
          data-tooltip-id="my-tooltip" 
          data-tooltip-content="Centro"
          onClick={handleNeighborhoodClick} 
          data-url-name="centro"
          className="st0"
          d="M214.1,76.7v59.2l7.6,7.6v15.2l-7.6,6.8v22.8l-3.5,7.5c-4.8,2.8-8.4,8-9,14.5h-1.9v7.6h2.5 c0.6,3.8,1.1,7.5,1.7,11.3c-0.3,2-0.7,3.9-0.8,5.3c-0.6,8.1,0.1,16.2,0.9,24.3c1.7,17.7,3.5,35.3,5.3,53c3.2,31.9,5.6,64,11.4,95.6 c5.6,30.3,16.4,57.4,32.3,83.7c8.1,13.5,8.4,25.7,9.6,41.1c0.5,6.1,1.3,11.8,2.6,17.3c0.1-0.2,0.2-0.3,0.3-0.5 c3.2-5.3,7.4-10,11.8-14.4c4.1-4,8.5-7.9,13.6-10.6c6.4-3.3,13.5-4.8,20.2-7.3c6-2.2,11.9-5.2,14.7-11.3c1.1-2.5,1.8-5.2,2.5-7.8 c0.7-2.7,1.2-5.8,2.8-8.1c2.7-3.9,7.6-2.9,11.6-2.3c4.2,0.6,11.2,1.1,13.6-3.3c1.7-3.2,0.6-7.5,1.1-11c0.6-4.6,3.3-7.6,7.2-9.7 c1.6-0.9,3-1.7,3.7-3.5c1.1-2.8,1.3-6.2,1.7-9.2c0.8-6.5,1.5-13.5,6.8-17.9c2.5-2.1,5.4-3.5,8.3-5c3.3-1.8,6.6-3.6,10-5.3 c2.7-1.3,6-3.3,9.2-3.3c2.2,0,3.8,1.4,5.3,2.8c4.5,4.1,10.6,6.3,16.4,8c5.7,1.7,11.6,2.8,17.3,0.5c7.1-2.8,13.4-7.3,19.8-11.4 c13.5-8.5,28.5-14.3,43.1-20.6c10-4.3,19.8-9.3,29.2-14.8l-2.4-2.4l-7.6-7.6l-7.6-15.2h7.6v-22l-7.6-7.6v-6.8h-7.6l-7.6-7.6v-7.6 l-6.8-7.6v-6.8l-7.6-7.6l-7.6-7.6l-6.8-22.8v-6.8l-7.6-7.6v-7.6l-7.6-7.6v-29.6l-7.6-6.8v-29.6l7.6-7.6V99.5l-7.6-7.6l7.6-7.6V69.9 h-37.2v6.8h-22l-7.6-6.8h-29.6v-7.6h-6.8l-7.6-7.6h-7.6v-7.6h-22v7.6h-51.6v-7.6h-15.2l-7.6-6.8l-6.8,6.8l-7.6-6.8h-29.6v6.8h-22 l-7.6,7.6h22L214.1,76.7z"
        />
        <path
          fill={getColorByCarencias('EL HOYO')}
          data-tooltip-id="my-tooltip" 
          data-tooltip-content="El Hoyo"
          onClick={handleNeighborhoodClick} 
          data-url-name="el-hoyo"
          className="st0"
          d="M278.2,575.5c-3.2,39.7,0.5,79.6,11.9,118.2c0.8,2.7,2.2,5,3.9,6.8c1.2,38.1,2.2,76.2,3.1,114.3 c0,1,0.1,2,0.3,2.9c2.2,0.2,4.5,0.4,6.7,0.8c15.1,2.4,29.4,8.4,43.8,13.3c7.4,2.5,14.9,4.7,22.6,6.1c7.9,1.4,15.9,2.7,23.8,4.3 c16,3.2,32,6.8,48.4,7.5c8.4,0.4,16.9,0.1,25.2-1.3c5.4-0.9,12.8-2.3,15.7-7.7c1.7-3.2,1-6.5-0.3-9.7c-1.4-3.3-2.4-6.6-2.9-10.2 c-1.1-7.8-0.1-15.7-1.7-23.5c-1.6-7.4-5-14.3-7.7-21.3c-1.3-3.3-2.7-6.8-3.2-10.3c-0.4-2.4-0.5-4.9-0.6-7.3c0-5.7,0.6-11.5,1.9-17 c1.2-5,3-10.1,6.5-13.9c2.8-3.2,7-4.8,11-5.8c5.2-1.3,10.7-1.8,16.1-2.1c5.2-0.3,10.4-0.4,15.6-0.6c6-0.3,11.8-1.6,17.7-2.9 c11.2-2.6,22.3-5.9,33.6-8.2v-38l7.6-6.8v-7.6l7.6-7.6l7.6-7.6v-29.6l-7.6-7.6v-29.6l-7.6-14.4v-88.8l-7.6-15.2v-22l-7.6-15.2 l-6.8-6.8l-7.6-15.2l-10.6-10.6c-12.9,7.5-26.3,13.5-40,19.4c-7.3,3.1-14.5,6.3-21.6,9.9c-6.8,3.5-13.2,7.7-19.8,11.7 c-3.3,2-6.6,3.9-10.1,5.5c-2.5,1.1-4.9,1.9-7.7,2c-6,0.2-12.2-1.7-17.8-3.9c-2.7-1-5.5-2.1-7.9-3.6c-2.1-1.3-3.7-3.5-5.9-4.7 c-2.7-1.5-6.3,0.7-8.7,1.8c-3.3,1.6-6.5,3.3-9.7,5c-3.1,1.7-6.4,3.2-9.3,5.4c-2.7,2.1-4.3,4.9-5.2,8.2c-0.9,3.4-1.2,6.9-1.6,10.4 c-0.3,2.8-0.6,5.8-1.8,8.4c-1.7,3.8-6.3,4.4-8.9,7.6c-2.5,3.2-1.9,7.5-2,11.3c-0.1,3.9-1.4,7.1-5.2,8.7c-5.1,2.1-10.2,0.7-15.4,0.3 c-2-0.1-4.2,0-5.6,1.6c-1.8,2.1-2.2,5.5-2.9,8.1c-1.3,5-2.8,10.2-6.7,13.9c-5,4.5-12.1,6.6-18.4,8.6c-6.7,2.1-13.3,4.3-18.9,8.6 c-4.7,3.6-9,7.9-12.8,12.4c-2.7,3.1-5.4,6.5-7.3,10.3c2.4,8.2,6.2,15.9,12.1,23.2C278.1,575.3,278.1,575.4,278.2,575.5z"
        />
        <path
          fill={getColorByCarencias('CINCO MIL')}
          data-tooltip-id="my-tooltip" 
          data-tooltip-content="Cinco Mil"
          onClick={handleNeighborhoodClick} 
          data-url-name="cinco-mil"
          className="st0"
          d="M402.4,1097.8c-1.4-2.9-2.9-5.4-5.4-7.6c-2.3-2-4.8-3.7-7.2-5.6c-5.4-4.4-7.9-10.9-11.7-16.6 c-1.8-2.8-4-5.4-6-8c-2-2.6-4-5.1-6.1-7.6c-4.1-5-8.4-9.7-13.3-14c-4.7-4.2-9.8-7.8-15.5-10.6c-2.9-1.4-5.9-2.6-9.1-3.5 c-3-0.9-6-1.4-8.9-2.5c-4.8-1.8-9.1-4.6-12.5-8.4c-4-4.4-6.7-9.7-10.1-14.5c-3.9-5.5-9-10.1-13.5-15.1c-2.3-2.5-4.3-5.2-6.3-8 c-1.4-2.1-2.9-4.1-4.6-6c-2.5-2.8-5.5-4.3-9.2-5.1c-2.5-0.6-5.1-0.9-7.7-1.3c-2.2-0.4-4.5-1.1-6.1-2.9c-2.9-3.2-2.3-7.9-1.8-11.9 c0.7-4.8,1.5-9.5,1.1-14.4c-1-11-5.3-21.8-10.9-31.2c-5.3-9-12.8-18.4-22.8-22.4c-0.2-0.1-0.4-0.3-0.5-0.5 c-18.4,10.6-36,22.7-52.9,36.2c-3.5,2.8-5,7.1-5,11.5l-2,2h-33.1c-1.7,1.3-3.4,2.8-4.9,4.4c-2.9,3.1-5.4,6.5-7.7,10 c-2.3,3.5-4.6,7.1-6.9,10.5c-2.4,3.5-5.2,6.8-7.8,10.2c-4.2,5.2-8.4,10.3-13.1,14.9v9.3l7.6,22l6.8,15.2l7.6,6.8v7.6l7.6,7.6v15.2 h7.6v6.8l6.8,7.6v7.6l7.6,7.6v36.4h7.6l14.4,7.6l22.8,7.6l6.8,14.4l15.2,15.2l7.6,6.8h29.6v15.2h14.4v7.6h22l7.6-7.6h7.6v-7.6 l7.6,7.6h29.6l6.8-7.6l7.6-7.6l7.6-14.4l7.6-7.6l6.8-7.6h7.6l7.6-14.4l7.6-7.6l6.8-7.6l7.6-6.8l6.9-6.9 C405.3,1104.4,404,1101,402.4,1097.8z"
        />
        <path
          fill={getColorByCarencias('PALO GORDO')}
          data-tooltip-id="my-tooltip" 
          data-tooltip-content="Palo Gordo"
          onClick={handleNeighborhoodClick} 
          data-url-name="palo-gordo"
          className="st0"
          d="M599.1,825.5l-6.8-7.6v-6.8l-7.6-7.6v-15.2l-7.6-6.8v-22.8l-7.6-6.8v-42.1c-15,3.1-29.7,8.3-44.9,10.6 c-4.5,0.7-9.1,0.7-13.7,0.9c-5.5,0.2-10.9,0.4-16.3,1c-4.8,0.6-10,1.5-14.3,3.9c-4,2.3-6.4,6.5-7.9,10.8c-2,5.6-2.9,11.6-3.2,17.5 c-0.3,5.7,0.1,11,1.9,16.4c2.4,7.3,6,14.2,8.2,21.5c2.3,7.5,2.2,15.1,2.5,22.9c0.2,3.9,0.6,7.9,1.9,11.6c1,3,2.6,5.7,2.9,8.9 c0.5,6.2-4.3,10.3-9.6,12.3c-6.7,2.6-14.3,3.2-21.4,3.6c-8.2,0.4-16.4,0-24.6-1c-16.1-1.9-31.8-5.7-47.8-8.7 c-7.7-1.4-15.5-2.5-23.2-4.5c-7.5-2-14.9-4.6-22.2-7.2c-13-4.6-26.2-9.3-39.9-10.6c0.2,0.5,0.3,1,0.5,1.5c-0.4,1.1-0.9,2.1-1.3,3.2 c-13.4,3.9-31.4,15.7-36.5,29.4c-0.1,0.1-0.2,0.1-0.3,0.2c-8.7,4.9-17.2,8.4-24.3,14.5c-6.6,3.3-13.1,6.8-19.5,10.4 c1.9,0.8,3.8,1.8,5.5,3c9.3,6.3,16,16.1,20.9,26.1c2.5,5.1,4.6,10.5,6,16c1.3,4.8,2.2,9.8,2,14.7c-0.2,4.9-1.7,9.7-1.7,14.6 c0,2,0.2,4.1,1.6,5.6c1.6,1.9,4.2,2.3,6.5,2.6c4.2,0.6,8.7,1.1,12.5,3.3c3.7,2.2,6.3,6,8.7,9.5c2,2.9,4.1,5.6,6.5,8.2 c2.2,2.5,4.6,4.8,6.9,7.2c2.4,2.5,4.6,5.1,6.6,7.9c1.9,2.6,3.4,5.5,5.2,8.2c2.9,4.4,6.4,8.5,10.9,11.3c5.2,3.2,11.2,4,16.9,6 c12.1,4.2,22.2,12.4,30.7,21.8c4.4,4.8,8.4,9.9,12.3,15c2.1,2.8,4.4,5.5,6.2,8.5c1.8,2.9,3.3,6,5.2,8.8c2.1,3.1,4.6,5.5,7.6,7.7 c2.3,1.7,4.8,3.4,6.7,5.6c2,2.2,3.3,4.9,4.5,7.5c1.1,2.4,2,4.9,2.8,7.4c0.1,0.3,0.2,0.6,0.3,0.9l6.7-6.7h6.8l7.6-6.8h7.6v-7.6h7.6 v-7.6l6.8-14.4V1048l7.6-7.6l7.6-14.4v-7.6h7.6l6.8-7.6l7.6-7.6l7.6-6.8l6.8-7.6v-15.2l7.6-14.4l7.6-7.6V944l7.6-14.4l7.6-7.6 l6.8-15.2l7.6-14.4v-7.6l14.4-7.6l7.6-7.6l7.6-6.8l7.6-7.6l14.4-7.6v-7.6l7.6-6.8L599.1,825.5z"
        />
        <polygon className="st0" points="162.5,62.3 170.1,54.7 162.5,54.7 " />
      </svg>
    </div>
  )
}

export default Palmar